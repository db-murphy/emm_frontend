define("common/tool",[],function(t,i,e){function s(t){this._lastScroll=0,this._ticking=!1,t=t||{},this._optionsSelector=t.selector||"[data-layzr]",this._optionsAttr=t.attr||"data-layzr",this._optionsAttrRetina=t.retinaAttr||"data-layzr-retina",this._optionsAttrBg=t.bgAttr||"data-layzr-bg",this._optionsAttrHidden=t.hiddenAttr||"data-layzr-hidden",this._optionsThreshold=t.threshold||0,this._optionsCallback=t.callback||null,this._retina=window.devicePixelRatio>1,this._srcAttr=this._retina?this._optionsAttrRetina:this._optionsAttr,this._nodes=document.querySelectorAll(this._optionsSelector),this._create()}function o(t,i,e){var s=function(t){return"string"==typeof t?document.getElementById(t):t},o=function(t,i){for(var e in i)t[e]=i[e];return t},n=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t,null)},r=function(t,i){var e=Array.prototype.slice.call(arguments).slice(2);return function(){return i.apply(t,e.concat(Array.prototype.slice.call(arguments)))}},h={Quart:{easeOut:function(t,i,e,s){return-e*((t=t/s-1)*t*t*t-1)+i}},Back:{easeOut:function(t,i,e,s,o){return void 0==o&&(o=1.70158),e*((t=t/s-1)*t*((o+1)*t+o)+1)+i}},Bounce:{easeOut:function(t,i,e,s){return(t/=s)<1/2.75?7.5625*e*t*t+i:2/2.75>t?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i}}},l=function(t,i,e,o){this._slider=s(i),this._container=s(t),this._originHTML=this._slider.innerHTML,this._slideItemList=this._container.querySelectorAll("li"),this._resetSlideFlag=!1,this._timer=null,this._count=Math.abs(e),this._target=0,this._t=this._b=this._c=0,this.Index=0,this.SetOptions(o),this.Auto=!!this.options.Auto,this.Duration=Math.abs(this.options.Duration),this.Time=Math.abs(this.options.Time),this.Pause=Math.abs(this.options.Pause),this.Tween=this.options.Tween,this.onStart=this.options.onStart,this.onFinish=this.options.onFinish;var r=!!this.options.Vertical;this._css=r?"top":"left";var h=n(this._container).position;"relative"==h||"absolute"==h||(this._container.style.position="relative"),this._container.style.overflow="hidden",this._slider.style.position="absolute",this.Change=this.options.Change?this.options.Change:this._slider[r?"offsetHeight":"offsetWidth"]/this._count};return l.prototype={SetOptions:function(t){this.options={Vertical:!0,Auto:!0,Change:0,Duration:50,Time:10,Pause:4e3,onStart:function(){},onFinish:function(){},Tween:h.Quart.easeOut},o(this.options,t||{})},Run:function(t){void 0==t&&(t=this.Index),-2>=t&&(t=this._count-2)||t>this._count&&(t=0),-1===this.Index?this._target=0:this._target=-Math.abs(this.Change)*(this.Index=t),this._t=0,this._b=parseInt(n(this._slider)[this.options.Vertical?"top":"left"]),this._c=this._target-this._b,this.onStart(),this.Move()},Move:function(){clearTimeout(this._timer),this._c&&this._t<this.Duration?(this.MoveTo(Math.round(this.Tween(this._t++,this._b,this._c,this.Duration))),this._timer=setTimeout(r(this,this.Move),this.Time)):(this.MoveTo(this._target),this.Auto&&(this._timer=setTimeout(r(this,this.Next),this.Pause)))},MoveTo:function(t){this._slider.style[this._css]=t+"px"},firstScrollPrepare:function(){var t=this._slideItemList[this._count-1],i=t.cloneNode(!0);this._slider.style.width=this._count+1+"00%",t.parentNode.insertBefore(i,this._slideItemList[0]),this._slider.style.left=-this.getSize(t).width+"px"},lastScrollPrepare:function(){var t=this._slideItemList[0],i=t.cloneNode(!0);this._slider.style.width=this._count+1+"00%",this._slider.appendChild(i)},resetSlide:function(){var t,i;this.Index>=this._count&&(t=this._container.querySelectorAll("li"),i=t[t.length-1],i.parentNode.removeChild(i),this.Index=0,this._slider.style.left=0),this.Index<=-1&&(t=this._container.querySelectorAll("li"),i=t[0],i.parentNode.removeChild(i),this.Index=this._count-1,this._slider.style.left=-this.getSize(t[t.length-1]).width*(this._count-1)+"px"),this._resetSlideFlag=!1},getSize:function(t){var i=t.getBoundingClientRect();return{width:i.width||i.right-i.left,height:i.height||i.bottom-i.top}},Next:function(){this._resetSlideFlag&&this.resetSlide(),this.Index+1>=this._count&&(this.lastScrollPrepare(),this._resetSlideFlag=!0),this.Run(++this.Index)},Previous:function(){this._resetSlideFlag&&this.resetSlide(),this.Index-1<=-1&&(this.firstScrollPrepare(),this._resetSlideFlag=!0),this.Run(--this.Index)},Stop:function(){clearTimeout(this._timer),this.MoveTo(this._target)}},new l(t,i,e,{Vertical:!1})}s.prototype._requestScroll=function(){this._lastScroll=window.scrollY||window.pageYOffset,this._requestTick()},s.prototype._requestTick=function(){this._ticking||(requestAnimationFrame(this.update.bind(this)),this._ticking=!0)},s.prototype._getOffset=function(t){var i=0;do isNaN(t.offsetTop)||(i+=t.offsetTop);while(t=t.offsetParent);return i},s.prototype._create=function(){this._requestScroll(),window.addEventListener("scroll",this._requestScroll.bind(this),!1),window.addEventListener("resize",this._requestScroll.bind(this),!1)},s.prototype._destroy=function(){window.removeEventListener("scroll",this._requestScroll.bind(this),!1),window.removeEventListener("resize",this._requestScroll.bind(this),!1)},s.prototype._inViewport=function(t){var i=this._lastScroll,e=i+window.innerHeight,s=this._getOffset(t),o=s+t.offsetHeight,n=this._optionsThreshold/100*window.innerHeight;return o>=i-n&&e+n>=s&&!t.hasAttribute(this._optionsAttrHidden)},s.prototype._reveal=function(t){var i=t.getAttribute(this._srcAttr)||t.getAttribute(this._optionsAttr),e=new Image,s=this;e.onload=function(){t.hasAttribute(s._optionsAttrBg)?t.style.backgroundImage="url("+i+")":t.setAttribute("src",i),"function"==typeof s._optionsCallback&&s._optionsCallback.call(t,s._nodes),t.removeAttribute(s._optionsAttr),t.removeAttribute(s._optionsAttrRetina),t.removeAttribute(s._optionsAttrBg),t.removeAttribute(s._optionsAttrHidden)},e.src=i},s.prototype.updateSelector=function(){this._nodes=document.querySelectorAll(this._optionsSelector)},s.prototype.update=function(){for(var t=this._nodes.length,i=0;t>i;i++){var e=this._nodes[i];e.hasAttribute(this._optionsAttr)&&this._inViewport(e)&&this._reveal(e)}this._ticking=!1},e.exports={Layzr:s,create_pic_move:o}});