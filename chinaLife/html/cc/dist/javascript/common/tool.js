define("common/tool",[],function(t,i,e){function s(t,i,e){var s=function(t){return"string"==typeof t?document.getElementById(t):t},n=function(t,i){for(var e in i)t[e]=i[e];return t},o=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t,null)},h=function(t,i){var e=Array.prototype.slice.call(arguments).slice(2);return function(){return i.apply(t,e.concat(Array.prototype.slice.call(arguments)))}},r={Quart:{easeOut:function(t,i,e,s){return-e*((t=t/s-1)*t*t*t-1)+i}},Back:{easeOut:function(t,i,e,s,n){return void 0==n&&(n=1.70158),e*((t=t/s-1)*t*((n+1)*t+n)+1)+i}},Bounce:{easeOut:function(t,i,e,s){return(t/=s)<1/2.75?7.5625*e*t*t+i:2/2.75>t?e*(7.5625*(t-=1.5/2.75)*t+.75)+i:2.5/2.75>t?e*(7.5625*(t-=2.25/2.75)*t+.9375)+i:e*(7.5625*(t-=2.625/2.75)*t+.984375)+i}}},a=function(t,i,e,n){this._slider=s(i),this._container=s(t),this._originHTML=this._slider.innerHTML,this._slideItemList=this._container.querySelectorAll("li"),this._resetSlideFlag=!1,this._timer=null,this._count=Math.abs(e),this._target=0,this._t=this._b=this._c=0,this.Index=0,this.SetOptions(n),this.Auto=!!this.options.Auto,this.Duration=Math.abs(this.options.Duration),this.Time=Math.abs(this.options.Time),this.Pause=Math.abs(this.options.Pause),this.Tween=this.options.Tween,this.onStart=this.options.onStart,this.onFinish=this.options.onFinish;var h=!!this.options.Vertical;this._css=h?"top":"left";var r=o(this._container).position;"relative"==r||"absolute"==r||(this._container.style.position="relative"),this._container.style.overflow="hidden",this._slider.style.position="absolute",this.Change=this.options.Change?this.options.Change:this._slider[h?"offsetHeight":"offsetWidth"]/this._count};return a.prototype={SetOptions:function(t){this.options={Vertical:!0,Auto:!0,Change:0,Duration:50,Time:10,Pause:4e3,onStart:function(){},onFinish:function(){},Tween:r.Quart.easeOut},n(this.options,t||{})},Run:function(t){void 0==t&&(t=this.Index),-2>=t&&(t=this._count-2)||t>this._count&&(t=0),-1===this.Index?this._target=0:this._target=-Math.abs(this.Change)*(this.Index=t),this._t=0,this._b=parseInt(o(this._slider)[this.options.Vertical?"top":"left"]),this._c=this._target-this._b,this.onStart(),this.Move()},Move:function(){clearTimeout(this._timer),this._c&&this._t<this.Duration?(this.MoveTo(Math.round(this.Tween(this._t++,this._b,this._c,this.Duration))),this._timer=setTimeout(h(this,this.Move),this.Time)):(this.MoveTo(this._target),this.Auto&&(this._timer=setTimeout(h(this,this.Next),this.Pause)))},MoveTo:function(t){this._slider.style[this._css]=t+"px"},firstScrollPrepare:function(){var t=this._slideItemList[this._count-1],i=t.cloneNode(!0);this._slider.style.width=this._count+1+"00%",t.parentNode.insertBefore(i,this._slideItemList[0]),this._slider.style.left=-this.getSize(t).width+"px"},lastScrollPrepare:function(){var t=this._slideItemList[0],i=t.cloneNode(!0);this._slider.style.width=this._count+1+"00%",this._slider.appendChild(i)},resetSlide:function(){var t,i;this.Index>=this._count&&(t=this._container.querySelectorAll("li"),i=t[t.length-1],i.parentNode.removeChild(i),this.Index=0,this._slider.style.left=0),this.Index<=-1&&(t=this._container.querySelectorAll("li"),i=t[0],i.parentNode.removeChild(i),this.Index=this._count-1,this._slider.style.left=-this.getSize(t[t.length-1]).width*(this._count-1)+"px"),this._resetSlideFlag=!1},getSize:function(t){var i=t.getBoundingClientRect();return{width:i.width||i.right-i.left,height:i.height||i.bottom-i.top}},Next:function(){this._resetSlideFlag&&this.resetSlide(),this.Index+1>=this._count&&(this.lastScrollPrepare(),this._resetSlideFlag=!0),this.Run(++this.Index)},Previous:function(){this._resetSlideFlag&&this.resetSlide(),this.Index-1<=-1&&(this.firstScrollPrepare(),this._resetSlideFlag=!0),this.Run(--this.Index)},Stop:function(){clearTimeout(this._timer),this.MoveTo(this._target)}},new a(t,i,e,{Vertical:!1})}var n={init:function(t){var i=this,e={anim:!0};$.extend(e,t),i.img.init(e)},img:{init:function(t){function i(t){var i=window.pageYOffset,e=window.pageYOffset+window.innerHeight,s=$(t).offset().top;return s>=i&&e>=s-400}function e(i){if(!i.attr("loaded")){var e=new Image,s=i.attr("dataimg");e.onload=function(){i.attr("src",s).removeClass("lazy"),t.anim&&i.css({opacity:.2}).animate({opacity:1},280)},s&&(e.src=s),i.attr("loaded",!0)}}$(window).bind("scroll",function(){$("img.lazy").each(function(t,s){var n=$(this);n.attr("dataimg")&&i(this)&&e(n)})}).trigger("scroll")}}};e.exports={lazyload:n,create_pic_move:s}});